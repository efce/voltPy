<!DOCTYPE html>

<html>
<head>
  <title>
    {% block title %}
    {% endblock %}
  </title> 
  <meta charset="utf-8" />
  {% include "manager/js/main.inc" %}
  {{ bokeh_scripts | safe }}
  {% block head %} 
  {% endblock %}
  <style>
    {% include "manager/css/main.css" %}
    {% block style %} 
    {% endblock %}
  </style>
</head>

<body>

<div id="voltpy-loading" class="loading-uncover">
</div>

{% block content %}
<div id="content">
  {% block navigation %}
  <div id="topmenu">
    <ul>
    {% if user.is_authenticated %}
      <li><a href="{% url 'index' %}">Index</a></li>
      <li><a href="{% url 'upload' %}">Upload Files</a></li>
      <li><a href="{% url 'createCurveSet' %}">Create Curve Set</a></li>
      <li class='dropdown'><span>&nbsp;Browse&nbsp;</span>
        <div class='dropdown-content'>
          <p><a href="{% url 'browseFileSets' %}">File Sets</a></p>
          <p><a href="{% url 'browseCurveFiles' %}">Files</a></p>
          <p><a href="{% url 'browseCurveSets' %}">Curve Sets</a></p>
          <p><a href="{% url 'browseAnalysis' %}">Analysis</a></p>
        </div>
      </li>
      <li class="wht">Logged in as:</li><li class="wht">{{ user }}(UserID: {{ user.id }})</li>
      <li><a href="{% url 'logout' %}">Logout</a></li>
    {% else %}
      <li><a href="{% url 'index' %}">Index</a></li>
      <li><a href="{% url 'login' %}">Login</a></li>
      <li><a href="{% url 'signin' %}">Sign In</a></li>
    {% endif%}
    </ul>
  </div>
  {% endblock %}

  <table>
    {% if notifications %}
    <tr>
      {% if mainPlot %}
      <td colspan=2>
      {% else %}
      <td>
      {% endif %}
        <div id="notifications">
          <a class="closeX"></a>
          {% for n in notifications %}
          <p class="{{ n.severity }}">{{ n.text }}</p>
          {% endfor %}
        </div>
      </td>
    </tr>
    {% endif %}
    <tr>
      {% if mainPlot %}
      <td style="vertical-align: top">
        <table>
          <tr>
            <td class="_voltPy_bokehSize">
                {{ mainPlot | safe }}
            </td>
          </tr>
          <tr>
            <td>
              <table>
                <tr>
                  <td>
                    On x axis:
                  </td>
                  <td>
                    {{ mainPlotButtons | safe }}
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </td>
      {% endif %}
      <td style="vertical-align: top">
        {% block real_content %} {% endblock %}
      </td>
    </tr>
  </table>
</div>
{% endblock %} 

{% block footer %}
{% endblock %}

</body> 
</html>
